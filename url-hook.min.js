// url-hook.min.js
!function(){if(window.__urlHookInjected)return;window.__urlHookInjected=true;const e=/https?:\/\/[^\s"%27<>]+/gi,t=new Set,n=document.createElement("div");n.style.cssText="position:fixed;bottom:0;left:0;width:100%;max-height:300px;background:rgba(0,0,0,0.85);color:lime;font-family:monospace;font-size:12px;z-index:9999999999;padding:10px;border-top:3px solid lime;display:flex;flex-direction:column;overflow:auto";const r=document.createElement("div");r.style.cssText="display:flex;justify-content:space-between;margin-bottom:10px";const o=document.createElement("strong");o.textContent="URL Hook Panel",o.style.alignSelf="center";const c=document.createElement("button");c.textContent="T√ºm√ºn√º Kopyala",c.style.cssText="background:#444;color:white;border:1px solid lime;border-radius:3px;cursor:pointer;padding:5px";const a=document.createElement("textarea");a.id="urlTextArea",a.style.cssText="width:100%;height:250px;background:#111;color:lime;border:1px solid #333;padding:5px;resize:vertical",a.readOnly=true;r.appendChild(o),r.appendChild(c),n.appendChild(r),n.appendChild(a),document.body.appendChild(n),c.onclick=function(){a.select(),document.execCommand("copy"),c.textContent="‚úì Kopyalandƒ±!",setTimeout(function(){c.textContent="T√ºm√ºn√º Kopyala"},2000)};function d(r){const o=r.match(e);o&&o.forEach(function(r){t.has(r)||(t.add(r),a.value+=r+"\n",a.scrollTop=a.scrollHeight)})}const i=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(r,o){d("[XHR] "+r+": "+o);return i.apply(this,arguments)};const l=window.fetch;window.fetch=function(r,o){const c="string"==typeof r?r:r&&r.url;c&&d("[Fetch] URL: "+c);return l.apply(this,arguments)};const m=history.pushState;history.pushState=function(r,o,c){c&&d("[History] pushState: "+c);return m.apply(this,arguments)};const s=history.replaceState;history.replaceState=function(r,o,c){c&&d("[History] replaceState: "+c);return s.apply(this,arguments)};const p=document.createElement;document.createElement=function(r,o){const c=p.call(document,r,o);if(["script","iframe","img","link","audio","video","source"].includes(r.toLowerCase())){const o=c.setAttribute;c.setAttribute=function(i,p){return["src","href"].includes(i)&&p&&e.test(p)&&d("[Element Hook] <"+r+"> "+i+": "+p),o.call(this,i,p)}}return c};new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){if(3===e.nodeType&&e.textContent&&e.test(e.textContent)&&d("[DOM] Text Node URL: "+e.textContent.trim());else if(1===e.nodeType)Array.from(e.attributes||[]).filter(function(e){return e.value&&e.test(e.value)}).forEach(function(e){d("[DOM] Attribute URL: "+e.name+"="+e.value)})})})}).observe(document.body,{childList:true,subtree:true,attributes:true}),document.addEventListener("click",function(e){const t=e.target.closest("a");t&&t.href&&e.test(t.href)&&d("[Click] <a> href: "+t.href)}),document.addEventListener("submit",function(e){const t=e.target;t.action&&e.test(t.action)&&d("[Form Submit] action: "+t.action)});async function u(){try{const e=document.getElementsByTagName("script");for(let t=0;t<e.length;t++){const n=e[t];if(n.src)try{const e=await fetch(n.src);if(!e.ok)continue;const t=await e.text(),r=t.match(e);r&&r.forEach(function(e){d("[Script Source] "+e)})}catch(e){console.warn("Error fetching script:",e)}else{const e=n.textContent.match(e);e&&e.forEach(function(e){d("[Inline Script] "+e)}}}}catch(e){console.warn("Error scanning scripts:",e)}}"complete"===document.readyState||"interactive"===document.readyState?u():window.addEventListener("DOMContentLoaded",u),console.log("%cüåê Enhanced URL Hook Initialized! Panel at bottom.","color: lime; font-weight: bold;")}();